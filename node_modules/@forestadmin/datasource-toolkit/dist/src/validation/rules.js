"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MAP_ALLOWED_TYPES_FOR_OPERATOR = exports.MAP_ALLOWED_TYPES_FOR_COLUMN_TYPE = exports.MAP_ALLOWED_OPERATORS_FOR_COLUMN_TYPE = void 0;
const types_1 = require("./types");
const BASE_OPERATORS = ['Blank', 'Equal', 'Missing', 'NotEqual', 'Present'];
const ARRAY_OPERATORS = ['In', 'NotIn', 'IncludesAll'];
const BASE_DATEONLY_OPERATORS = [
    'Today',
    'Yesterday',
    'PreviousXDaysToDate',
    'PreviousWeek',
    'PreviousWeekToDate',
    'PreviousMonth',
    'PreviousMonthToDate',
    'PreviousQuarter',
    'PreviousQuarterToDate',
    'PreviousYear',
    'PreviousYearToDate',
    'Past',
    'Future',
    'PreviousXDays',
    'Before',
    'After',
];
exports.MAP_ALLOWED_OPERATORS_FOR_COLUMN_TYPE = Object.freeze({
    String: [
        ...BASE_OPERATORS,
        ...ARRAY_OPERATORS,
        'Contains',
        'NotContains',
        'EndsWith',
        'StartsWith',
        'LongerThan',
        'ShorterThan',
        'Like',
        'ILike',
        'IContains',
        'IEndsWith',
        'IStartsWith',
    ],
    Number: [...BASE_OPERATORS, ...ARRAY_OPERATORS, 'GreaterThan', 'LessThan'],
    Dateonly: [...BASE_OPERATORS, ...BASE_DATEONLY_OPERATORS],
    Date: [...BASE_OPERATORS, ...BASE_DATEONLY_OPERATORS, 'BeforeXHoursAgo', 'AfterXHoursAgo'],
    Timeonly: [...BASE_OPERATORS, 'LessThan', 'GreaterThan'],
    Enum: [...BASE_OPERATORS, ...ARRAY_OPERATORS],
    Json: ['Blank', 'Missing', 'Present'],
    Boolean: BASE_OPERATORS,
    Point: BASE_OPERATORS,
    Uuid: [...BASE_OPERATORS, ...ARRAY_OPERATORS],
});
exports.MAP_ALLOWED_TYPES_FOR_COLUMN_TYPE = Object.freeze({
    String: ['String', types_1.ValidationTypesArray.String, types_1.ValidationPrimaryTypes.Null],
    Number: ['Number', types_1.ValidationTypesArray.Number, types_1.ValidationPrimaryTypes.Null],
    Boolean: ['Boolean', types_1.ValidationTypesArray.Boolean, types_1.ValidationPrimaryTypes.Null],
    Enum: ['Enum', types_1.ValidationTypesArray.Enum, types_1.ValidationPrimaryTypes.Null],
    Date: ['Date', 'Number', types_1.ValidationPrimaryTypes.Null],
    Dateonly: ['Dateonly', 'Number', types_1.ValidationPrimaryTypes.Null],
    Json: ['Json', types_1.ValidationPrimaryTypes.Null],
    Point: ['Point', types_1.ValidationPrimaryTypes.Null],
    Timeonly: ['Timeonly', types_1.ValidationPrimaryTypes.Null],
    Uuid: ['Uuid', types_1.ValidationTypesArray.Uuid, types_1.ValidationPrimaryTypes.Null],
});
function computeAllowedTypesForOperators() {
    return Object.keys(exports.MAP_ALLOWED_OPERATORS_FOR_COLUMN_TYPE).reduce((mapMemo, type) => {
        const allowedOperators = exports.MAP_ALLOWED_OPERATORS_FOR_COLUMN_TYPE[type];
        allowedOperators.forEach(operator => {
            if (mapMemo[operator]) {
                mapMemo[operator].push(type);
            }
            else {
                mapMemo[operator] = [type];
            }
        });
        return mapMemo;
    }, {});
}
const NO_TYPES_ALLOWED = [types_1.ValidationPrimaryTypes.Null];
exports.MAP_ALLOWED_TYPES_FOR_OPERATOR = Object.freeze({
    ...computeAllowedTypesForOperators(),
    In: Object.values(types_1.ValidationTypesArray),
    NotIn: Object.values(types_1.ValidationTypesArray),
    IncludesAll: Object.values(types_1.ValidationTypesArray),
    Blank: NO_TYPES_ALLOWED,
    Missing: NO_TYPES_ALLOWED,
    Present: NO_TYPES_ALLOWED,
    Yesterday: NO_TYPES_ALLOWED,
    Today: NO_TYPES_ALLOWED,
    PreviousQuarter: NO_TYPES_ALLOWED,
    PreviousYear: NO_TYPES_ALLOWED,
    PreviousMonth: NO_TYPES_ALLOWED,
    PreviousWeek: NO_TYPES_ALLOWED,
    Past: NO_TYPES_ALLOWED,
    Future: NO_TYPES_ALLOWED,
    PreviousWeekToDate: NO_TYPES_ALLOWED,
    PreviousMonthToDate: NO_TYPES_ALLOWED,
    PreviousQuarterToDate: NO_TYPES_ALLOWED,
    PreviousYearToDate: NO_TYPES_ALLOWED,
    PreviousXDaysToDate: ['Number'],
    PreviousXDays: ['Number'],
    BeforeXHoursAgo: ['Number'],
    AfterXHoursAgo: ['Number'],
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnVsZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdmFsaWRhdGlvbi9ydWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSxtQ0FBd0Y7QUFFeEYsTUFBTSxjQUFjLEdBQWUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFFeEYsTUFBTSxlQUFlLEdBQWUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBRW5FLE1BQU0sdUJBQXVCLEdBQWU7SUFDMUMsT0FBTztJQUNQLFdBQVc7SUFDWCxxQkFBcUI7SUFDckIsY0FBYztJQUNkLG9CQUFvQjtJQUNwQixlQUFlO0lBQ2YscUJBQXFCO0lBQ3JCLGlCQUFpQjtJQUNqQix1QkFBdUI7SUFDdkIsY0FBYztJQUNkLG9CQUFvQjtJQUNwQixNQUFNO0lBQ04sUUFBUTtJQUNSLGVBQWU7SUFDZixRQUFRO0lBQ1IsT0FBTztDQUNSLENBQUM7QUFFVyxRQUFBLHFDQUFxQyxHQUU5QyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2hCLE1BQU0sRUFBRTtRQUNOLEdBQUcsY0FBYztRQUNqQixHQUFHLGVBQWU7UUFDbEIsVUFBVTtRQUNWLGFBQWE7UUFDYixVQUFVO1FBQ1YsWUFBWTtRQUNaLFlBQVk7UUFDWixhQUFhO1FBQ2IsTUFBTTtRQUNOLE9BQU87UUFDUCxXQUFXO1FBQ1gsV0FBVztRQUNYLGFBQWE7S0FDZDtJQUNELE1BQU0sRUFBRSxDQUFDLEdBQUcsY0FBYyxFQUFFLEdBQUcsZUFBZSxFQUFFLGFBQWEsRUFBRSxVQUFVLENBQUM7SUFDMUUsUUFBUSxFQUFFLENBQUMsR0FBRyxjQUFjLEVBQUUsR0FBRyx1QkFBdUIsQ0FBQztJQUN6RCxJQUFJLEVBQUUsQ0FBQyxHQUFHLGNBQWMsRUFBRSxHQUFHLHVCQUF1QixFQUFFLGlCQUFpQixFQUFFLGdCQUFnQixDQUFDO0lBQzFGLFFB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